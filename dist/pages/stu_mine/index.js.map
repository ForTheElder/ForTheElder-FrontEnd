{"version":3,"file":"pages/stu_mine/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAGA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;AAuBA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAGA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAIA;AAEA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;;;;;;;;;;;;;ACnPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://theolder/._src_pages_stu_mine_index.jsx","webpack://theolder/./src/pages/stu_mine/index.jsx?ecb7"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { View, Input, Image, Button, Picker, Textarea } from '@tarojs/components'\r\nimport Taro from '@tarojs/taro'\r\nimport mineAvatar from \"../../assets/stu_mine/mineAvatar.png\"\r\nimport editName from \"../../assets/stu_mine/editName.png\"\r\nimport './index.less'\r\nimport mine_avatar from '../../assets/mine/mine_avatar.png'\r\nimport second from '../../assets/mine/information_avatar.png'\r\nimport first from '../../assets/mine/organization_detail.png'\r\nimport third from '../../assets/mine/information_detail.png'\r\nimport fourth from '../../assets/mine/help.png'\r\nimport back from '../../assets/mine/back.png'\r\nimport { useEffect } from 'react'\r\nimport { Fetch, getData } from '../../service/fetch'\r\n\r\n\r\nfunction ElderMine () {\r\n\r\n  function show() {\r\n    Taro.showToast({\r\n      title:'开发中',\r\n      icon:'none',\r\n      duration:1000\r\n    })\r\n  }\r\n  function toEditInfo() {\r\n    Taro.navigateTo({ url: '/pages/editInfo/index'})\r\n  }\r\n  \r\n    return (\r\n      <View className='mine-container'>\r\n        <View className='mine-head'>\r\n          <View className='mine-avatar'>\r\n            <Image className='mine-image' src={mine_avatar} style='width:76px;height:76px;'></Image>\r\n          </View>\r\n          <View className='mine-info'>\r\n            <View className='mine-nickname'>樱桃小丸</View>\r\n            <View className='mine-edit' onClick={toEditInfo}>点击编辑个人信息</View>\r\n          </View>\r\n        </View>\r\n        <View className='mine-body'>\r\n          <View className='mine-child' onClick={show}>\r\n            <View className='mine-linebefore' >\r\n              <View className='mine-line'><Image className='mine-image' src={first} style='width:44px;height:44px;border-radius=50%;'></Image></View>\r\n              <View className='line-text'>申诉订单</View>\r\n            </View>\r\n            <View className='mine-lineback'><Image src={back} style='width:16px;height:22px;'></Image></View>\r\n          </View>\r\n          <View className='mine-child' onClick={show}>\r\n            <View className='mine-linebefore' >\r\n              <View className='mine-line'><Image className='mine-image' src={second} style='width:44px;height:44px;'></Image></View>\r\n              <View className='line-text'>我的课程</View>\r\n            </View>\r\n            <View className='mine-lineback'><Image src={back} style='width:16px;height:22px;'></Image></View>\r\n          </View>\r\n          <View className='mine-child' onClick={show}>\r\n            <View className='mine-linebefore'>\r\n              <View className='mine-line'><Image className='mine-image' src={third} style='width:44px;height:44px;'></Image></View>\r\n              <View className='line-text'>我的邀请</View>\r\n            </View>\r\n            <View className='mine-lineback'><Image src={back} style='width:16px;height:22px;'></Image></View>\r\n          </View>\r\n          <View className='mine-child' onClick={show}>\r\n            <View className='mine-linebefore'>\r\n              <View className='mine-line'><Image className='mine-image' src={fourth} style='width:44px;height:44px;'></Image></View>\r\n              <View className='line-text'>商家协议</View>\r\n            </View>\r\n            <View className='mine-lineback'><Image src={back} style='width:16px;height:22px;'></Image></View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n\r\nexport function StuMine() {\r\n\r\n  const [username, setUsername] = useState('幸福时光')\r\n  const [isEdit, setIsEdit] = useState(false)\r\n  const [time, setTime] = useState(20)\r\n  const [tab, setTab] = useState(0)\r\n  const [isChange, setIsChange] = useState(false)\r\n  const [nickName, setNickName] = useState('荔枝')\r\n  const [phone, setPhone] = useState('18500229809')\r\n  const [sex, setSex] = useState('女')\r\n  const [birthday, setBirthday] = useState('1999-03-21')\r\n  const [id, setId] = useState('403423**********02')\r\n  const [address, setAddress] = useState('北京 海淀区')\r\n  const [detailAddress, setDetailAddress] = useState('腾达大厦30层')\r\n  const [userInfo,setUserInfo] = useState({})\r\n  const [options, setOptions] = useState(['男', '女'])\r\n\r\n  const [activities, setActivities] = useState([\r\n    {\r\n      img: 'http://rt23tifhy.hb-bkt.clouddn.com/activity1.png',\r\n      activity_name: '社区公益服务大集1',\r\n      activity_time: '2021/05/06   09:00-12:00',\r\n      activity_area: '北京市东城区西花市南里东区15号楼北侧 ',\r\n      attendance: '13',\r\n      total: '20',\r\n      id: '001',\r\n      status: '已报名'\r\n    },\r\n    {\r\n      img: 'http://rt23tifhy.hb-bkt.clouddn.com/activity1.png',\r\n      activity_name: '社区公益服务大集2',\r\n      activity_time: '2021/05/05   09:00-12:00',\r\n      activity_area: '北京市东城区西花市南里东区15号楼北侧 ',\r\n      attendance: '13',\r\n      total: '20',\r\n      id: '001',\r\n      status: '已结束'\r\n    }\r\n  ])\r\n\r\n  useEffect(()=>{\r\n    getData('/user/info/query').then(\r\n      data => {\r\n        console.log(data.userInfo)\r\n        setUserInfo(data.userInfo)\r\n      }\r\n    )\r\n  },[])\r\n\r\n  const editUsername = (e) => {\r\n    const newName = e.detail.value\r\n    setUsername(newName)\r\n    setIsEdit(false)\r\n  }\r\n\r\n  const changeInfo = () => {\r\n    let newUserInfo = {\r\n      phone: phone,\r\n      sex: sex,\r\n      wechat: phone,\r\n      avatar: userInfo.avatar,\r\n      nickName: nickName,\r\n      birthday: birthday,\r\n      organizationId: userInfo.organizationId,\r\n      credit: userInfo.credit\r\n    }\r\n    setUserInfo(newUserInfo)\r\n    setIsChange(!isChange)\r\n    Fetch('/user/info/update',newUserInfo)\r\n  }\r\n\r\n  return (\r\n    <View className='wrapper-stu-mine'>\r\n      <View className='header'>\r\n        <View className='avatar'>\r\n          <Image src={mineAvatar} alt=''></Image>\r\n        </View>\r\n        <View className='username'>\r\n          {isEdit ?\r\n            <Input onBlur={editUsername} value={username} />\r\n            : <View className='content'>{username}</View>}\r\n          <View className='edit' onClick={() => setIsEdit(true)}>\r\n            <Image src={editName} alt=''></Image>\r\n          </View>\r\n        </View>\r\n        <View className='time'>\r\n          <View className='number'>{userInfo.credit}</View>\r\n          <View className='text'>志愿时长</View>\r\n        </View>\r\n      </View>\r\n      <View className='tab'>\r\n        <View className={tab === 0 ? 'active' : ''} onClick={() => setTab(0)}>个人信息</View>\r\n        <View className={tab === 1 ? 'active' : ''} onClick={() => setTab(1)}>已参加活动</View>\r\n      </View>\r\n      {\r\n        tab === 0 ? <View className='info'>\r\n          {\r\n            isChange ?\r\n              <View className='editInfo'>\r\n                <View className='name1'>\r\n                  姓名：<Input value={userInfo.nickName} onChange={e => setNickName(e.detail.value)} className='input_info' />\r\n                </View>\r\n                <View className='phone1'>\r\n                  手机号码：<Input value={userInfo.phone} onChange={e => setPhone(e.detail.value)} className='input_info'></Input>\r\n                </View>\r\n                <View className='gender1'>\r\n                  性别：<Input value={userInfo.sex} onChange={e => setSex(e.detail.value)} className='input_info' />\r\n                </View>\r\n                <View className='birth1'>\r\n                  出生日期：<Picker mode='date' onChange={e => setBirthday(e.detail.value)} className='input_info'>\r\n                    <View className='date'>\r\n                      {userInfo.birthday}\r\n                    </View>\r\n                  </Picker>\r\n                </View>\r\n                <View className='submit' onClick={() => setIsChange(false)}>保存</View>\r\n              </View>\r\n              : <View className='showInfo'>\r\n                <View className='name'>姓名：{userInfo.nickName}</View>\r\n                <View className='phone'>手机号码：{userInfo.phone}</View>\r\n                <View className='wechat'>手机号码：{userInfo.wechat}</View>\r\n                <View className='gender'>性别：{userInfo.sex}</View>\r\n                <View className='birth'>出生日期：{userInfo.birthday}</View>\r\n                <View className='change-info' onClick={changeInfo}>修改信息</View>\r\n              </View>\r\n          }\r\n        </View>\r\n          : <View className='activities'>\r\n            {\r\n              activities.map(activity =>\r\n                <View className='activity' key={activity.activity_name}>\r\n                  <View className='activity_image'>\r\n                    <Image src={activity.img} alt=''></Image>\r\n                    {activity.status === '已结束' ?\r\n                      <View className='activity_absoluted1'>\r\n                        已结束\r\n                      </View> :\r\n                      <View className='activity_absoluted'>\r\n                        已报名\r\n                      </View>}\r\n                  </View>\r\n                  <View className='activity_name'>{activity.activity_name}</View>\r\n                  <View className='activity_time'>{activity.activity_time}</View>\r\n                  <View className='activity_area'>地点：{activity.activity_area}</View>\r\n                  <View className='attendance'>报名人数：{`${activity.attendance}/${activity.total}`}</View>\r\n                  <View className='activity_id'>报名号：{activity.id}</View>\r\n                </View>\r\n              )\r\n            }\r\n          </View>\r\n      }\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default function Mine(){\r\n\r\n  const [type,setType] = useState('0')\r\n\r\n  useEffect(() => {\r\n    setType(Taro.getStorageSync('type'))\r\n  },[])\r\n\r\n  return(\r\n    <>\r\n      {type === '0'?<ElderMine /> : <StuMine />}\r\n    </>\r\n  )\r\n}","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"e养千年\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/stu_mine/index', {root:{cn:[]}}, config || {}))\n\n\n"],"names":[],"sourceRoot":""}